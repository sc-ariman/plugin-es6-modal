
(function(modules){var installedModules={};function __webpack_require__(moduleId){if(installedModules[moduleId])
return installedModules[moduleId].exports;var module=installedModules[moduleId]={exports:{},id:moduleId,loaded:false};modules[moduleId].call(module.exports,module,module.exports,__webpack_require__);module.loaded=true;return module.exports;}
__webpack_require__.m=modules;__webpack_require__.c=installedModules;__webpack_require__.p="";return __webpack_require__(0);})
([function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_FACTORY__,__WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;(function(global,factory){if(true){!(__WEBPACK_AMD_DEFINE_ARRAY__=[exports],__WEBPACK_AMD_DEFINE_FACTORY__=(factory),__WEBPACK_AMD_DEFINE_RESULT__=(typeof __WEBPACK_AMD_DEFINE_FACTORY__==='function'?(__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__)):__WEBPACK_AMD_DEFINE_FACTORY__),__WEBPACK_AMD_DEFINE_RESULT__!==undefined&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__));}else if(typeof exports!=="undefined"){factory(exports);}else{var mod={exports:{}};factory(mod.exports);global.modal=mod.exports;}})(this,function(exports){'use strict';Object.defineProperty(exports,"__esModule",{value:true});function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}
return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var Modal=function(){function Modal(element,nextFlug){_classCallCheck(this,Modal);if(element instanceof Object||Object.getPrototypeOf(element)===Object.prototype){var targets=Array.from(element);if(targets.length==0||targets==void 0){console.warn('target undifined');return false;}
var _iteratorNormalCompletion=true;var _didIteratorError=false;var _iteratorError=undefined;try{for(var _iterator=targets[Symbol.iterator](),_step;!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=true){var target=_step.value;this.onClick(target);}}catch(err){_didIteratorError=true;_iteratorError=err;}finally{try{if(!_iteratorNormalCompletion&&_iterator.return){_iterator.return();}}finally{if(_didIteratorError){throw _iteratorError;}}}}
this.target;this.nextFlug=true;return this;}
_createClass(Modal,[{key:'onClick',value:function onClick(target){var _this2=this;var modalElement='\n        <div class="modal" id="modal">\n          <div class="modal_wrap">\n            <div class="wrap_body">\n              <div class="body_content">\n                <div class="modal_close">\n                  \xD7\n                </div>\n                <div id="content_inner" class="content_inner" style="padding:10%; background: #fff;">\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>';target.addEventListener('click',function(event_1){_this2.target=event_1.target;var body=document.body;new Promise(function(resolve,reject){_this2.onBefore();var nextFlug=_this2.nextFlug;if(nextFlug){resolve(nextFlug);}else{reject(new Error('error message'));}}).then(function(nextFlug){return new Promise(function(resolve,reject){if(nextFlug){_this2.onBeforeModal();_this2.loading().showLoading();resolve(nextFlug);}else{reject(new Error('error message'));}});}).then(function(nextFlug){return new Promise(function(resolve,reject){if(_this2.nextFlug){(function(){_this2.loading().hideLoading();body.insertAdjacentHTML('beforeend',modalElement);body.classList.add('modal_open');_this2.onModal();var modal=document.getElementById('modal');modal.style.display='block';modal.style.transition='opacity .3s';setTimeout(function(){modal.style.opacity=1;},1);modal.addEventListener('click',function(event_2){var _this=event_2.currentTarget;_this.style.opacity=0;body.classList.remove('modal_open');setTimeout(function(){_this.parentNode.removeChild(_this);},300);});var content_inner=document.getElementById('content_inner');content_inner.addEventListener('click',function(event_3){event_3.stopPropagation();event_3.preventDefault();});body.addEventListener('touchmove',function(e){var hasClass=body.classList.contains('modal_open');if(hasClass){e.preventDefault();}});})();}else{reject(new Error('error message'));}});}).catch(function(error){_this2.loading().hideLoading();console.log(error);});});}},{key:'onBefore',value:function onBefore(){var _this3=this;return new Promise(function(resolve){if(typeof _this3.onBefore==='function'){resolve(_this3.onBefore());}else{resolve();}});}},{key:'onBeforeModal',value:function onBeforeModal(){var _this4=this;return new Promise(function(resolve){if(typeof _this4.onBeforeModal==='function'){resolve(_this4.onBeforeModal());}else{resolve();}});}},{key:'onModal',value:function onModal(){var _this5=this;return new Promise(function(resolve){if(typeof _this5.onModal==='function'){resolve(_this5.onModal());}else{resolve();}});}},{key:'loading',value:function loading(image){if(image==void 0){image='\n        <img src="/assets/images/loading.gif">';}
var loadingElement='\n      <div class="loading" id="loading">\n        <div class="loading_wrapper">\n            <div class="loading_body">\n              '+image+'\n            </div>\n          </div>\n      </div>';var obj={showLoading:function showLoading(){document.body.insertAdjacentHTML('beforeend',loadingElement);var loading=document.getElementById('loading');if(loading!==null){loading.style.opacity=0;loading.style.display='block';loading.style.transition='opacity .5s';loading.style.opacity=1;}},hideLoading:function hideLoading(){var loading=document.getElementById('loading');if(loading!==null){setTimeout(function(){loading.style.opacity=0;},1);setTimeout(function(){loading.parentNode.removeChild(loading);},500);}}};return obj;}}]);return Modal;}();exports.default=Modal;if(typeof window!='undefined'){!window.Modal&&(window.Modal=Modal);}});}]);